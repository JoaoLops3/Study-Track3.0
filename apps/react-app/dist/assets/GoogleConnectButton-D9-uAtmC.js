import{c as y,a as h,r as f,j as s,n as w,s as n,o as i}from"./index-DR7js-zR.js";import{L as x}from"./log-in-BhZXXhRl.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),G=({variant:c="primary",onSuccess:o,onError:t})=>{const{settings:l,updateSettings:m}=h(),[a,r]=f.useState(!1),p=async()=>{try{r(!0);const{data:e,error:g}=await n.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/calendar`,scopes:"https://www.googleapis.com/auth/calendar.readonly"}});if(g)throw g;e.url&&(window.location.href=e.url),o==null||o()}catch(e){console.error("Erro ao conectar com Google:",e),i.error("Erro ao conectar com Google"),t==null||t()}finally{r(!1)}},u=async()=>{try{r(!0),await m({integrations:{...l.integrations,google:!1}});const{error:e}=await n.auth.updateUser({data:{google_token:null,google_user:null}});if(await n.auth.refreshSession(),e)throw e;i.success("Conta do Google desconectada com sucesso"),o==null||o()}catch(e){console.error("Erro ao desconectar Google:",e),i.error("Erro ao desconectar Google"),t==null||t()}finally{r(!1)}},d={primary:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",secondary:"px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 bg-primary-100 text-primary-700 hover:bg-primary-200 dark:bg-primary-900/30 dark:text-primary-400 dark:hover:bg-primary-900/50"};return l.integrations.google?s.jsxs("button",{onClick:u,disabled:a,className:d[c],children:[s.jsx(w,{className:"w-5 h-5 mr-2"}),a?"Desconectando...":"Desconectar Google"]}):s.jsxs("button",{onClick:p,disabled:a,className:d[c],children:[s.jsx(x,{className:"w-5 h-5 mr-2"}),a?"Conectando...":"Conectar Google"]})};export{k as C,G};
//# sourceMappingURL=GoogleConnectButton-D9-uAtmC.js.map
