{"version":3,"file":"Login-BdHL4FTv.js","sources":["../../../../node_modules/lucide-react/dist/esm/icons/eye-off.js","../../src/hooks/useNavigation.ts","../../src/pages/Login.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst EyeOff = createLucideIcon(\"EyeOff\", [\n  [\"path\", { d: \"M9.88 9.88a3 3 0 1 0 4.24 4.24\", key: \"1jxqfv\" }],\n  [\n    \"path\",\n    {\n      d: \"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68\",\n      key: \"9wicm4\"\n    }\n  ],\n  [\n    \"path\",\n    { d: \"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61\", key: \"1jreej\" }\n  ],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"2\", y2: \"22\", key: \"a6p6uj\" }]\n]);\n\nexport { EyeOff as default };\n//# sourceMappingURL=eye-off.js.map\n","import { useNavigate } from 'react-router-dom';\r\nimport { useState } from 'react';\r\n\r\nexport function useNavigation() {\r\n  const navigate = useNavigate();\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n\r\n  const goToLogin = () => {\r\n    navigate('/login');\r\n  };\r\n\r\n  const goToDashboard = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  return {\r\n    currentPage,\r\n    totalPages,\r\n    setCurrentPage,\r\n    setTotalPages,\r\n    goToLogin,\r\n    goToDashboard,\r\n  };\r\n} ","import { useState } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNavigation } from '../hooks/useNavigation';\r\nimport { motion } from 'framer-motion';\r\nimport { LogIn, Mail, UserPlus, Eye, EyeOff } from 'lucide-react';\r\nimport { supabase } from '../lib/supabase';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Login = () => {\r\n  const { signIn } = useAuth();\r\n  const { goToDashboard } = useNavigation();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [isRegistering, setIsRegistering] = useState(false);\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n\r\n  const handleEmailLogin = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const { error } = await signIn(email, password);\r\n      if (error) throw error;\r\n      goToDashboard();\r\n    } catch (error: any) {\r\n      toast.error(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      toast.error('As senhas não coincidem');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const { error } = await supabase.auth.signUp({\r\n        email,\r\n        password,\r\n      });\r\n      if (error) throw error;\r\n      toast.success('Conta criada com sucesso! Verifique seu email para confirmar o cadastro.');\r\n      setIsRegistering(false);\r\n    } catch (error: any) {\r\n      toast.error(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGoogleLogin = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { error } = await supabase.auth.signInWithOAuth({\r\n        provider: 'google',\r\n        options: {\r\n          redirectTo: `${window.location.origin}/auth/callback`,\r\n          queryParams: {\r\n            scope: [\r\n              'https://www.googleapis.com/auth/calendar.readonly',\r\n              'https://www.googleapis.com/auth/userinfo.profile',\r\n              'https://www.googleapis.com/auth/userinfo.email',\r\n              'https://www.googleapis.com/auth/calendar.events.readonly'\r\n            ].join(' ')\r\n          }\r\n        },\r\n      });\r\n      if (error) throw error;\r\n    } catch (error: any) {\r\n      toast.error(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.5 }}\r\n        className=\"max-w-md w-full space-y-8\"\r\n      >\r\n        <div className=\"text-center\">\r\n          <div className=\"flex justify-center mb-4\">\r\n            <img \r\n              src=\"/logo-Study-Track.png\" \r\n              alt=\"Study Track Logo\" \r\n              className=\"h-24 w-24\"\r\n            />\r\n          </div>\r\n          <h1 className=\"text-4xl font-bold text-gray-900 dark:text-white mb-20\">\r\n            Study Track\r\n          </h1>\r\n          <h2 className=\"text-2xl font-extrabold text-gray-900 dark:text-white\">\r\n            {isRegistering ? 'Criar uma conta' : 'Bem-vindo de volta'}\r\n          </h2>\r\n          <p className=\"mt-2 text-sm text-gray-600 dark:text-gray-400\">\r\n            {isRegistering ? 'Preencha seus dados para começar' : 'Entre para continuar sua jornada'}\r\n          </p>\r\n        </div>\r\n\r\n        <form onSubmit={isRegistering ? handleRegister : handleEmailLogin} className=\"mt-8 space-y-6\">\r\n          {!isRegistering && (\r\n            <>\r\n              <button\r\n                onClick={handleGoogleLogin}\r\n                disabled={loading}\r\n                className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200\"\r\n              >\r\n                <span className=\"absolute left-0 inset-y-0 flex items-center pl-3\">\r\n                  <LogIn className=\"h-5 w-5 text-blue-500 group-hover:text-blue-400\" />\r\n                </span>\r\n                Continuar com Google\r\n              </button>\r\n\r\n              <div className=\"relative\">\r\n                <div className=\"absolute inset-0 flex items-center\">\r\n                  <div className=\"w-full border-t border-gray-300 dark:border-gray-600\" />\r\n                </div>\r\n                <div className=\"relative flex justify-center text-sm\">\r\n                  <span className=\"px-2 bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400\">\r\n                    Ou continue com email\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <div className=\"rounded-md shadow-sm space-y-4\">\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"sr-only\">\r\n                E-mail\r\n              </label>\r\n              <input\r\n                id=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                autoComplete=\"email\"\r\n                required\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                className=\"appearance-none rounded-t-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm dark:bg-gray-800\"\r\n                placeholder=\"E-mail\"\r\n              />\r\n            </div>\r\n            <div className=\"relative\">\r\n              <label htmlFor=\"password\" className=\"sr-only\">\r\n                Senha\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                autoComplete={isRegistering ? 'new-password' : 'current-password'}\r\n                required\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                className={`appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white ${!isRegistering ? 'rounded-b-md' : ''} focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm dark:bg-gray-800 pr-10`}\r\n                placeholder=\"Senha\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\r\n              >\r\n                {showPassword ? (\r\n                  <EyeOff className=\"h-5 w-5 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\" />\r\n                ) : (\r\n                  <Eye className=\"h-5 w-5 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n            {isRegistering && (\r\n              <div className=\"relative\">\r\n                <label htmlFor=\"confirmPassword\" className=\"sr-only\">\r\n                  Confirmar Senha\r\n                </label>\r\n                <input\r\n                  id=\"confirmPassword\"\r\n                  name=\"confirmPassword\"\r\n                  type={showConfirmPassword ? \"text\" : \"password\"}\r\n                  autoComplete=\"new-password\"\r\n                  required\r\n                  value={confirmPassword}\r\n                  onChange={(e) => setConfirmPassword(e.target.value)}\r\n                  className=\"appearance-none rounded-b-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm dark:bg-gray-800 pr-10\"\r\n                  placeholder=\"Confirmar Senha\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\r\n                >\r\n                  {showConfirmPassword ? (\r\n                    <EyeOff className=\"h-5 w-5 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\" />\r\n                  ) : (\r\n                    <Eye className=\"h-5 w-5 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200\"\r\n            >\r\n              <span className=\"absolute left-0 inset-y-0 flex items-center pl-3\">\r\n                {isRegistering ? (\r\n                  <UserPlus className=\"h-5 w-5 text-blue-500 group-hover:text-blue-400\" />\r\n                ) : (\r\n                  <Mail className=\"h-5 w-5 text-blue-500 group-hover:text-blue-400\" />\r\n                )}\r\n              </span>\r\n              {isRegistering ? 'Criar conta' : 'Entrar com email'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <div className=\"text-center\">\r\n          <button\r\n            onClick={() => {\r\n              setIsRegistering(!isRegistering);\r\n              setPassword('');\r\n              setConfirmPassword('');\r\n            }}\r\n            className=\"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-200\"\r\n          >\r\n            {isRegistering ? 'Já tem uma conta? Entre aqui' : 'Não tem uma conta? Crie aqui'}\r\n          </button>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login; "],"names":["EyeOff","createLucideIcon","useNavigation","navigate","useNavigate","currentPage","setCurrentPage","useState","totalPages","setTotalPages","Login","signIn","useAuth","goToDashboard","email","setEmail","password","setPassword","loading","setLoading","isRegistering","setIsRegistering","confirmPassword","setConfirmPassword","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","handleEmailLogin","e","error","toast","handleRegister","supabase","handleGoogleLogin","jsx","jsxs","motion","Fragment","LogIn","Eye","UserPlus","Mail"],"mappings":"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","x_google_ignoreList":[0]}